#include <cstdio>
using namespace std;
FILE *f=fopen("filmat.in","r");
FILE *g=fopen("filmat.out","w");
bool pos;
char M[350][350];
int i,j,pasi,N;
int main()
{
    fscanf(f,"%d\n",&N);
    for(i=1;i<=N;i++)
    {
        fgets(M[i]+1,350,f);
    }
    pos=1;
    while(pos)
    {
        pos=0;
        for(i=1;i<=N;i++)
        {
            for(j=1;j<=N;j++)
            {
                if(M[i-1][j]+M[i-1][j+1]+M[i][j+1]+M[i+1][j+1]+M[i+1][j]+M[i+1][j-1]+M[i][j-1]+M[i-1][j-1]-8*'0'>=3&&M[i][j]!='')
                {M[i][j]='1';pos=1;}
            }
        }
        pasi+=pos;
    }
    fprintf(g,"%d",pasi);
    fclose(f);
    fclose(g);
    return 0;
}
